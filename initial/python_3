from battle import commander
client = commander.Client()


def attack_next_enemy(data=None, **kawargs):
    enemy = client.ask_nearest_enemy()
    print('ENEMY', enemy)
    client.attack_item(enemy['id'])
    result = client.subscribe_death_item(enemy['id'], attack_next_enemy)
attack_next_enemy()